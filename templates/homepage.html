{% extends 'base.html' %}

{% block head %}
  <meta name="viewport" content="initial-scale=1.0">
  <meta charset="utf-8">
  <style>
    /* Setting initial map height, width */
    #map {
        height: 500px;
    }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  
{% endblock %}

{% block body %}
  {% if session['user_id'] %}
    <button type="button" id="login_logout">Logout</button>
    <button type="button" id="to_user_account">My Account</button>
  {% else %}
    <button type="button" id="login_logout">Login</button>
  {% endif %}
  
    </br></br>

  <script>
    "use strict";

    const loginLogoutBtn = $('#login_logout');

    loginLogoutBtn.on('click', () => {
      if ($('#login_logout').text() === 'Login') {
        window.location = '/login';
      } else {
        window.location = '/logout';
      }
    });

  </script>
  <div id="map"></div>
    </br>
  <button type="button" id="search_near_me">Search Near Me</button>
{% endblock %}

{% block scripts %}
  <script src="/static/map.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCW9gm0DCggVs3oySZt2W8dy7Fv1S7wTAQ&callback=initMap"
  async defer>
  </script>
{% endblock %}